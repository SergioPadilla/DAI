{% extends "index.html" %}

{% block navigation %}
<li><a href="/restaurantes/">Presentaci√≥n</a></li>
<li><a href="/restaurantes/examples">Ejemplos</a></li>
<li><a href="/restaurantes/me">Personal</a></li>
<li class="active"><a href="/restaurantes/highcharts">Highcharts</a></li>
<li><a href="/restaurantes/maps">Maps</a></li>
<li><a href="/restaurantes/tweets">Tweets</a></li>
<li><a href="/restaurantes/rss">RSS</a></li>
<li><a href="/restaurantes/mashup">Mashup</a></li>
{% endblock %}

{% block main %}
<div id="container" style="width:100%; height:400px;"></div>

<script>
    $.get("/restaurantes/get_borough_data", function (response) {
        console.log("response: ", response);
        var json = JSON.parse(response);

        $(function () {
            Highcharts.chart('container', {
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    type: 'pie'
                },
                title: {
                    text: 'Restaurant\'s boroughs'
                },
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                series: [{
                    name: 'Counts',
                    colorByPoint: true,
                    data: json
                }]
            });
        });
    });
</script>
{% endblock %}